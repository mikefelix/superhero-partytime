@(quests: Seq[Quest], game: Game)(implicit flash: play.api.mvc.Flash, messages: Messages)

@****************************************
* Helper generating navigation links    *
****************************************@
@link(quest: Quest) = @{
    routes.FormController.showQuestForm(game.id, quest.id)
}

@main(Some(game)) {
    <h2>Quests</h2>

    <h3>@flash.get("error").getOrElse("")</h3>
    <a href="@routes.FormController.showQuestForm(game.id, 0)">New quest</a>

    <table>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Description</th>
        </tr>
        @quests.map { q =>
            <tr>
                <td style="padding: 10px"><a href="@link(q)">@q.id</a></td>
                <td style="padding: 10px">@q.name</td>
                <td style="padding: 10px">@q.description</td>
            </tr>
        }

    </table>
}